<h1>Instagram</h1>

<form [formGroup]="registerForm">
  <div>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input class="input-text" type="text" matInput formControlName="login">
      <div *ngIf="registerForm.controls['login'].touched && registerForm.controls['login'].errors">
        <div class="div-error"  *ngIf="registerForm.controls['login'].errors.required">Login is required</div>
        <div class="div-error"  *ngIf="registerForm.controls['login'].errors.email">Email must be a valid email address</div>
      </div>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <mat-label>Full name</mat-label>
      <input class="input-text" matInput formControlName="fullName">
      <div *ngIf="registerForm.controls['fullName'].touched && registerForm.controls['fullName'].errors">
        <div class="div-error"  *ngIf="registerForm.controls['fullName'].errors.required">Full name is required</div>
        <div class="div-error"  *ngIf="registerForm.controls['fullName'].errors.maxlength">Full name must not be longer than 25 characters</div>
      </div>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <mat-label>User name</mat-label>
      <input  class="input-text" matInput formControlName="userName">
      <div *ngIf="registerForm.controls['userName'].touched && registerForm.controls['userName'].errors">
        <div class="div-error"  *ngIf="registerForm.controls['userName'].errors.required">User name is required</div>
        <div class="div-error"  *ngIf="registerForm.controls['userName'].errors.maxlength">User name must not be longer than 25 characters</div>
        <div class="div-error"  *ngIf="registerForm.controls['userName'].errors.pattern">User name can contain only alphanumeric characters plus "_"</div>
      </div>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <mat-label class="mat-label-password">Password</mat-label>
      <input matInput [type]="hidePassword ? 'password' : 'text'"  formControlName="password">
      <mat-icon  matSuffix (click)="changeHidePasswordValue()">{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      <div *ngIf="registerForm.controls['password'].touched && registerForm.controls['password'].errors">
        <div class="div-error"  *ngIf="registerForm.controls['password'].errors.required">Password is required</div>
        <div class="div-error"  *ngIf="registerForm.controls['password'].errors.maxlength">Password must not be longer than 25 characters</div>
        <div class="div-error"  *ngIf="registerForm.controls['password'].errors.minlength">Password must be at least 6 characters</div>
      </div>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="legacy">
      <mat-label class="mat-label-password">Confirm password</mat-label>
      <input matInput [type]="hideConfirmPassword ? 'password' : 'text'"  formControlName="confirmPassword">
      <mat-icon  matSuffix (click)="changeHideConfirmPasswordValue()">{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      <div *ngIf="registerForm.controls['confirmPassword'].touched && registerForm.controls['confirmPassword'].errors">
        <div class="div-error"  *ngIf="registerForm.controls['confirmPassword'].errors.required">Password is required</div>
        <div class="div-error"  *ngIf="registerForm.controls['confirmPassword'].errors.maxlength">Password must not be longer than 25 characters</div>
        <div class="div-error"  *ngIf="registerForm.controls['confirmPassword'].errors.minlength">Password must be at least 6 characters</div>
        <div class="div-error"  *ngIf="registerForm.controls['confirmPassword'].errors.mustMatch">Password must mutch</div>
      </div>
    </mat-form-field>
  </div>

  <div>
    <button mat-raised-button color="primary" (click)="registerNow()" [disabled]="!registerForm.valid">Sign up</button>
  </div>

  <div>
    <a>{{message}}</a>
  </div>

  <div>
    <a>Have an account? </a>
    <a routerLink="/login">Log in</a>
  </div>


</form>
